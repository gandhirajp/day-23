<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>flags</title>
    <style>

    </style>
</head>

<body>
    <div id="empty"></div>

    <script>
        var board = document.createElement("div");
        board.style.width = "100%";
        board.style.flexDirection = "row"
        board.style.display = "flex"
        board.style.flexWrap = "wrap"
        board.style.backgroundColor = "yellowgreen"

        fetch("https://restcountries.com/v3.1/all")
            .then(function (data) {
                return data.json();
            })
            .then(function (dataObj) {
                console.log(dataObj)


                dataObj.forEach(function (element) {

                    var box = document.createElement('div')

                    box.style.width = "200px";
                    box.style.height = "230px"
                    box.style.display = "flex"
                    box.style.flexDirection = "column";
                    box.style.marginRight = "10px"
                    box.style.marginLeft = "10px"
                    box.style.marginBottom = "30px"
                    box.style.border = '1px solid black'
                    board.appendChild(box)

                    var box1 = document.createElement("img");
                    box1.setAttribute('src', element.flags.png);
                    box1.setAttribute('alt', "image")
                    box1.style.width = "199px"
                    box1.style.height = "100px"
                    box1.style.border = ("1px solid black")
                    box.appendChild(box1)


                    var box2 = document.createElement("div")
                    box2.style.width = "199px"
                    box2.style.height = "50x"
                    box2.style.marginTop = "10px"
                    box2.style.borderBottom = "1px solid black"
                    box2.style.flexDirection = "column"
                    box2.innerText = element.name.common;

                    box.appendChild(box2)

                    var box3 = document.createElement("div")
                    box3.style.width = "199px"
                    box3.style.height = "50x"
                    box3.style.borderBottom = "1px solid black"
                    box3.style.flexDirection = "column"
                    box3.style.marginTop = "10px"
                    box3.innerText = element.car.signs;

                    box.appendChild(box3)

                    var button = document.createElement("button")
                    button.innerText = "Weather";
                    button.style.width = "100px"
                    button.style.height = "30px"
                    button.style.marginLeft = "50px"
                    button.style.borderRadius = "10px"
                    button.style.marginTop = "10%"
                    button.addEventListener("click", function () {


                        var popup = document.createElement("div")
                        popup.style.width = "350px";
                        popup.style.backgroundImage="url(2.jpg)"
                        popup.style.backgroundSize="350px 500px"
                        popup.style.borderRadius = "20px"
                        popup.style.height = "500px";
                        popup.style.fontSize="20px"
                        popup.style.textAlign="center"
                        popup.style.position = "fixed"
                        popup.style.marginTop = "80px"
                        popup.style.marginLeft = "500px"
                        empty.appendChild(popup)

                        var popbutton = document.createElement("button");
                        popbutton.style.backgroundColor = "red";
                        popbutton.style.width = "30px";
                        popbutton.style.height = "30px"
                        popbutton.style.position = "fixed"
                        popbutton.style.marginLeft = "145px";
                        popbutton.innerText = "X"
                        popbutton.style.borderRadius = "10px"
                        popbutton.addEventListener("click", function () {
                            popup.style.display = 'none';
                        })
                        popup.appendChild(popbutton)

                        var cname = document.createElement("h2")
                        cname.style.with = "299px"
                        cname.style.height = "50px"
                        cname.innerText = element.name.common + " " + "Wether"
                        popup.appendChild(cname)

                        fetch("https://api.openweathermap.org/data/2.5/weather?q=" + box2.innerText + "&appid=a739c520cd3709b5b3b92c344bcb9067")
                        .then(function(data1){
                            return data1.json();
                        })
                        .then(function(obj){
                            console.log(obj)

                            var name1=document.createElement("h3")
                            name1.innerText="Temperatures :"+obj.main.temp;
                            popup.appendChild(name1)

                            var name2=document.createElement("h3")
                            name2.innerText="Temperatures-Min :"+obj.main.temp_min;
                            popup.appendChild(name2)

                            var name3=document.createElement("h3")
                            name3.innerText="Temperatures-Max :"+obj.main.temp_max;
                            popup.appendChild(name3)

                            var name4=document.createElement("h3")
                            name4.innerText="Feels_like :"+obj.main.feels_like;
                            popup.appendChild(name4)

                            var name5=document.createElement("h3")
                            name5.innerText="Grnd_level :"+obj.main.grnd_level;
                            popup.appendChild(name5)

                            var name6=document.createElement("h3")
                            name6.innerText="Humidity :"+obj.main.humidity;
                            popup.appendChild(name6)

                            var name7=document.createElement("h3")
                            name7.innerText="Pressure :"+obj.main.pressure;
                            popup.appendChild(name7)

                            var name8=document.createElement("h3")
                            name8.innerText="Sea_level :"+obj.main.sea_level;
                            popup.appendChild(name8)
                            

                        })
                       
                    })


                    box.appendChild(button)


                })

            })
            .catch(function (err) {
                console.log(err)
            })
        document.body.appendChild(board);


    </script>
</body>

</html>